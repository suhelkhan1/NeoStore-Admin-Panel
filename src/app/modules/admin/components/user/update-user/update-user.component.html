<div class="content-wrapper">
  <!--content header-->
  <app-content-header></app-content-header>

  <!-- Main content -->
  <section class="content">
    <div class="row">
      <!-- left column -->
      <div class="col-md-12">
        <!-- general form elements -->
        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title">Update User</h3>
          </div>
          <!-- /.box-header -->
          <!-- form start -->
          <form [formGroup]="updateUserForm" (ngSubmit)="updateUser(updateUserForm.value)" novalidate>
            <div class="box-body">
              <div class="row">
                <div class="col-md-8">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="isActive">User Status</label>
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-users"></i></span>
                        <select formControlName="isActive" ngControl="isActive" id="isActive" class="form-control" [ngClass]="{ 'error' : isActive.invalid && isActive.dirty }">
                        <option [selected]="isActive.value == null" value="">Select</option>
                        <option [selected]="isActive.value == true" value=true>Active</option>
                        <option [selected]="isActive.value == false" value=false>Deactive</option>
                      </select>
                      </div>
                      <em class="text-danger" *ngIf="isActive.invalid && isActive.dirty">Please select role</em>
                    </div>
                    <div class="form-group">
                      <label for="username">User Name</label>
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input type="text" class="form-control" formControlName="username" [ngClass]="{ 'error' : username.invalid && username.dirty }"
                          placeholder="Enter User Name">
                      </div>
                      <em class="text-danger" *ngIf="username.invalid && username.dirty">Please proper user name</em>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="firstName">First Name</label>
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input type="text" class="form-control" formControlName="firstName" [ngClass]="{ 'error' : firstName.invalid && firstName.dirty }"
                          placeholder="Enter First Name">
                      </div>
                      <em class="text-danger" *ngIf="firstName.invalid && firstName.dirty">Please proper first name</em>
                    </div>
                    <div class="form-group">
                      <label for="lastName">Last Name</label>
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input type="text" class="form-control" formControlName="lastName" [ngClass]="{ 'error' : lastName.invalid && lastName.dirty }"
                          placeholder="Enter Last Name">
                      </div>
                      <em class="text-danger" *ngIf="lastName.invalid && lastName.dirty">Please proper last name</em>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="email">Email address</label>
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-envelope"></i></span>
                        <input type="email" class="form-control" formControlName="email" [ngClass]="{ 'error' : email.invalid && email.dirty }" placeholder="Enter email">
                      </div>
                      <em class="text-danger" *ngIf="email.invalid && email.dirty">Please enter valid email</em>
                    </div>
                    <div class="form-group">
                      <label for="gender">Gender</label>
                      <div class="checkbox icheck" [ngClass]="{ 'error' : gender.invalid && gender.dirty }">
                        <label><input type="radio" formControlName="gender" value="male" name="gender"> <strong>Male</strong> </label>
                        <label><input type="radio" formControlName="gender" value="female" name="gender"> <strong>Female</strong> </label>
                      </div>
                      <em class="text-danger" *ngIf="gender.invalid && gender.dirty">Please select</em>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="userRoles">User Role</label>
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-users"></i></span>
                        <select formControlName="userRoles" ngControl="userRoles" id="userRoles" class="form-control" [ngClass]="{ 'error' : userRoles.invalid && userRoles.dirty }">
                          <option [selected]="userRoles.value == null" value="">Select</option>
                          <option [selected]="userRoles.value == admin" value="admin">Admin</option>
                          <option [selected]="userRoles.value == appUser" value="appUser">App User</option>
                        </select>
                      </div>
                      <em class="text-danger" *ngIf="userRoles.invalid && userRoles.dirty">Please select role</em>
                    </div>
                    <div class="form-group">
                      <label for="phoneNumber">Phone Number</label>
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-phone"></i></span>
                        <input type="tel" class="form-control" formControlName="phoneNumber" [ngClass]="{ 'error' : phoneNumber.invalid && phoneNumber.dirty }"
                          placeholder="Enter Phone Number">
                      </div>
                      <em class="text-danger" *ngIf="phoneNumber.invalid && phoneNumber.dirty">Please enter phone number</em>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="dateOfBirth">Date of Birth</label>
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-birthday-cake"></i></span>
                        <input type="date" class="form-control" formControlName="dateOfBirth" [ngClass]="{ 'error' : dateOfBirth.invalid && dateOfBirth.dirty }">
                      </div>
                      <em class="text-danger" *ngIf="dateOfBirth.invalid && dateOfBirth.dirty">Please select date of birth</em>
                    </div>
                    <div class="form-group">
                      <label for="fileUpload">Upload New Image</label>
                      <div class="input-group">
                        <label class="input-group-btn">
                            <span class="btn btn-primary">
                                Browse&hellip; 
                                <input type="file"
                                  (change)="fileEvent($event)"
                                  class="form-control"
                                  style="display: none;"                                               
                                  id="fileUpload"
                                  multiple>
                            </span>
                        </label>
                        <input type="text" formControlName="fileLabel" class="form-control" readonly>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-md-4">
                  <label>Profile Picture</label>
                  <div *ngIf="user">                    
                    <img [src]="user.images.ImgURL" alt="profile_pic" class="img-thumbnail" />
                  </div>
                </div>
              </div>              
            </div>
            <!-- /.box-body -->

            <div class="box-footer">
              <button type="submit" [disabled]="updateUserForm.invalid" class="btn btn-primary">Save</button>
              <button type="submit" [routerLink]="['/admin/getusers']" class="btn btn-danger">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
  <!-- /.box -->
</div>
