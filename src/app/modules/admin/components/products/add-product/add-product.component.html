<div class="content-wrapper">
  <!--content header-->
  <app-content-header></app-content-header>

  <!-- Main content -->
  <section class="content">
    <div class="row">
      <!-- left column -->
      <div class="col-md-12">
        <!-- general form elements -->
        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title">Add Product</h3>
          </div>
          <!-- /.box-header -->
          <!-- form start -->
          <form [formGroup]="addProductForm" (ngSubmit)="addProductForm.invalid || addProduct(addProductForm.value)" novalidate>
            <div class="box-body">
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="productCategory">Product Category</label>
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-sitemap"></i></span>
                      <select name="productCategory" formControlName="productCategory" ngControl="productCategory" class="form-control" [ngClass]="{ 'error' : productCategory.invalid && productCategory.dirty }">
                        <option [selected]="productCategory.value == null"  value="" >Select</option>
                        <option *ngFor="let productCategory of productCategories" [value]="productCategory.id">{{productCategory.category_name}}</option>                        
                      </select>
                    </div>
                    <em class="text-danger" *ngIf="productCategory.invalid && productCategory.dirty">Please Select Product Category</em>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="productName">Product Name</label>
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-th-large"></i></span>
                      <input type="text" class="form-control" formControlName="productName" [ngClass]="{ 'error' : productName.invalid && productName.dirty }"
                        name="productName" placeholder="Enter Product Name">
                    </div>
                    <em class="text-danger" *ngIf="productName.invalid && productName.dirty">Please Enter Product Name</em>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="producer">Manufacturer</label>
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-industry"></i></span>
                      <input type="text" class="form-control" formControlName="producer" [ngClass]="{ 'error' : producer.invalid && producer.dirty }"
                        name="producer" placeholder="Enter Manufacturer Name">
                    </div>
                    <em class="text-danger" *ngIf="producer.invalid && producer.dirty">Please Enter Manufacturer</em>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="description">Desription</label>
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-paragraph"></i></span>
                      <textarea type="text" class="form-control" formControlName="description" [ngClass]="{ 'error' : description.invalid && description.dirty }"
                        name="description" placeholder="Enter Description"></textarea>
                    </div>
                    <em class="text-danger" *ngIf="description.invalid && description.dirty">Please Enter Desription</em>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="cost">Cost</label>
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-inr"></i></span>
                      <input type="number" class="form-control" formControlName="cost" [ngClass]="{ 'error' : cost.invalid && cost.dirty }" name="cost"
                        placeholder="Cost">
                    </div>
                    <em class="text-danger" *ngIf="cost.invalid && cost.dirty">Please Enter Cost</em>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="stockin">Stock in</label>
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-shopping-basket"></i></span>
                      <input type="number" class="form-control" formControlName="stockin" [ngClass]="{ 'error' : stockin.invalid && stockin.dirty }"
                        name="stockin" placeholder="Enter Stock">
                    </div>
                    <em class="text-danger" *ngIf="stockin.invalid && stockin.dirty">Please Enter Stock</em>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="material">Material</label>
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-cubes"></i></span>
                      <input type="text" class="form-control" formControlName="material" [ngClass]="{ 'error' : material.invalid && material.dirty }"
                        name="material" placeholder="Enter Material">
                    </div>
                  </div>
                  <em class="text-danger" *ngIf="material.invalid && material.dirty">Please Enter Material</em>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="dimension">Dimension</label>
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-pencil"></i></span>
                      <input type="tel" class="form-control" formControlName="dimension" [ngClass]="{ 'error' : dimension.invalid && dimension.dirty }"
                        name="dimension" placeholder="Enter Dimension">
                    </div>
                    <em class="text-danger" *ngIf="dimension.invalid && dimension.dirty">Please Enter Dimension</em>
                  </div>
                </div>

                <div class="col-md-4">
                  <label for="fileUpload">Upload File</label>
                  <div class="input-group">
                    <label class="input-group-btn">
                        <span class="btn btn-primary">
                            Browse&hellip; 
                            <input type="file"
                              (change)="fileEvent($event)"
                              class="form-control"
                              style="display: none;"                                               
                              id="fileUpload"                                                      
                              name="fileUpload">
                        </span>
                    </label>
                    <input type="text" formControlName="fileLabel" class="form-control" readonly>
                  </div>
                </div>
                
              </div>
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="colour">Colour</label>
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-paint-brush"></i></span>
                      <input type="color" class="form-control" formControlName="colour" [ngClass]="{ 'error' : colour.invalid && colour.dirty }"
                        name="colour">
                    </div>
                    <em class="text-danger" *ngIf="colour.invalid && colour.dirty">Please Select Colour</em>
                  </div>
                  <!--<div class="form-group">
                    <label for="colour">Colour</label>
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-sitemap"></i></span>
                      <select name="colour" formControlName="colour" ngControl="colour" class="form-control" [ngClass]="{ 'error' : colour.invalid && colour.dirty }">
                        <option [selected]="colour.value == null"  value="" >Select</option>
                        <option *ngFor="let color of colors" [value]='color' [ngStyle]="{'background-color': color.color_code}">
                          <p class="color-box" [ngStyle]="{'background-color': color.color_code}"></p>
                          {{color.color_name}}
                        </option>                        
                      </select>
                    </div>
                    <em class="text-danger" *ngIf="colour.invalid && colour.dirty">Please Select Color</em>
                  </div> -->
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <label for="colour">Select Colour</label>
                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                      <div class="panel panel-primary">
                        <div class="panel-heading" role="tab" id="headingOne">
                          <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#colors">
                              <i class="fa fa-lg fa-angle-double-down"></i> Colors
                            </a>
                          </h4>
                        </div>
                        <div id="colors" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                          <div class="list-group-item">
                            <ul class="list-inline">
                              <li *ngFor="let color of colors">
                                <button type="button"
                                        (click)="setColor(color)"                                  
                                        placement="top"                    
                                        class="color-box" 
                                        [ngStyle]="{'background': color.color_code}">
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>                        
                    </div>
                  </div>                
                </div>
              </div>

            </div>
            <!-- /.box-body -->

            <div class="box-footer">
              <button type="submit" [disabled]="addProductForm.invalid && !hasImage" class="btn btn-primary">Save</button>
              <button type="submit" [routerLink]="['/admin/getproducts']" class="btn btn-danger">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
  <!-- /.box -->
</div>
